# 新人練習ガイド - Todo アプリケーション

## 🎯 練習目標
個人用のTodoページを作成し、基本的なCRUD操作を学習します。

**📅 最終更新**: 2025年11月11日

## 📋 準備手順

### 🚀 ワンコマンド起動

**推奨方法**: PowerShellスクリプトでワンコマンド起動

```powershell
.\start.ps1
```

このスクリプトは以下を自動実行します：
- 依存関係のインストール（未インストール時）
- 開発サーバーの起動（バックグラウンド）
- ブラウザで http://localhost:1234 を自動的に開く
- PowerShellウィンドウが5秒後に自動終了

### 🚀 新規ページの追加方法

**最も簡単な方法**: UI から直接追加

1. **開発サーバーを起動**（上記のstart.ps1を使用、または手動で）
```powershell
npm run dev
```

2. **ブラウザでアプリを開く**
   - http://localhost:1234/ にアクセス

3. **サイドバーの「➕ 新規ページ追加」ボタンをクリック**
   - 名前を入力（例: Tanaka、日本語OK: 田中）
   - 「追加」ボタンをクリック
   - ※アイコンは自動的に📝に設定されます

4. **開発サーバーを再起動**
```powershell
# Ctrl+C でサーバーを停止
npm run dev
```

5. **完了！**
   - サイドバーに新しいページが表示されます
   - クリックしてページを開いてください

### ✏️ ページ名の編集方法

サイドバーの各ページの右側にある✏️ボタンをクリックすると、ページ名を編集できます。

1. ✏️ボタンをクリック
2. 新しい名前を入力
3. 「保存」ボタンをクリック
4. 開発サーバーを再起動

### 🗑️ ページの削除方法

サイドバーの各ページの右側にある🗑️ボタンをクリックすると、ページを削除できます。

**重要な動作**:
- ページ情報が削除されます
- **そのページのタスクデータ（LocalStorage）も完全に削除されます**
- 同じ名前で再度ページを追加しても、以前のタスクは復元されません
- これにより、クリーンな状態で新しくスタートできます

**注意**: ページの編集・削除後は開発サーバーの再起動が必要です。

---

## 🎨 利用可能な機能

追加したページでは以下のことができます：

**基本機能**
- ✅ タスクの追加
- ✅ タスクの完了/未完了の切り替え
- ✅ タスクの個別削除
- ✅ 完了タスクの一括削除
- ✅ フィルター（すべて/未完了/完了済み）

**データ保存**
- LocalStorageに自動保存されます
- ブラウザを閉じても、データは保持されます

---

```tsx
import TanakaTodo from './pages/TanakaTodo'
```

そして、`getUserPageComponent` 関数に case を追加：

```tsx
case './pages/TanakaTodo':
  return TanakaTodo
```

#### Step 5: ページが正常に開くことを確認
```powershell
npm run dev
```
サイドバーから自分のリンクをクリックして、ページが正常に表示され基本機能が使用できることを確認してください。

**注意**: サイドバー は userPages.ts の設定から自動的にリンクを生成するため、手動での編集は不要です！

## 🚀 メインタスク：削除機能の実装

### タスク要件
以下の削除機能を実装する必要があります：

#### 🗑️ 機能1：個別タスク削除
- 各タスクの横に削除ボタン（🗑️アイコン）を配置
- 削除ボタンをクリックすると対応するタスクが削除される
- 削除後、タスクが即座にリストから消える
- 削除後、localStorageのデータも更新される

#### 🧹 機能2：完了タスクの一括削除
- 下部統計エリアに「完了タスクをクリア」ボタンを追加
- 完了タスクが存在する場合のみボタンを表示
- クリック後、すべての完了タスクが削除される
- ボタンに削除される完了タスク数を表示

### 実装ヒント

#### 💡 ヒント1：個別タスク削除
```tsx
// 追加が必要な関数
const deleteTodo = (id: number) => {
  // TODO: 削除ロジックを実装
  // ヒント：filter メソッドを使用して指定 id のタスクを除外
};
```

#### 💡 ヒント2：削除ボタンUI
```tsx
{/* タスクリストの各アイテムに削除ボタンを追加 */}
<Button.Small onClick={() => deleteTodo(todo.id)}>
  🗑️
</Button.Small>
```

#### 💡 ヒント3：完了タスクの一括削除
```tsx
// 追加が必要な関数
const clearCompleted = () => {
  // TODO: 一括削除ロジックを実装
  // ヒント：filter メソッドを使用して未完了タスクのみを保持
};
```

#### 💡 ヒント4：クリアボタンUI
```tsx
{/* 下部統計エリアにクリアボタンを追加 */}
{completedCount > 0 && (
  <Button.Small onClick={clearCompleted}>
    完了済みをクリア ({completedCount})
  </Button.Small>
)}
```

### 🎯 最終的な効果
実装完了後、あなたのTodoアプリケーションは以下ができるようになります：
- ✅ 🗑️ボタンをクリックして個別タスクを削除
- ✅ 削除後、タスクがUIから消える
- ✅ 削除後、localStorageデータが同期更新される
- ✅ 完了タスクが存在する時「完了をクリア」ボタンが表示される
- ✅ クリアボタンをクリックしてすべての完了タスクを削除
- ✅ ボタンに正しい完了タスク数が表示される

## ⏱️ 予想完了時間
- 基本設定：30分
- 削除機能実装：60-90分
- テスト・デバッグ：15分

## 🧪 検収基準
1. **基本機能正常** - 追加、完了切り替え、フィルタが動作
2. **個別削除機能** - 各タスクが個別に削除可能
3. **一括クリア機能** - すべての完了タスクを一度に削除可能
4. **データ永続化** - 削除操作後にページをリフレッシュしても削除されたタスクが再表示されない
5. **UI操作性良好** - ボタンの配置が適切で、操作が流暢

## 💡 学習ポイント
- **配列操作**：`filter`メソッドを使用した要素削除
- **状態管理**：React stateの正しい更新
- **イベント処理**：クリックイベントとパラメータ受け渡し
- **条件レンダリング**：状態に応じたUI要素の表示/非表示
- **データ永続化**：localStorageの同期更新

## 🚨 よくある問題
- **削除後にUIが更新されない**：setTodosが正しく呼ばれているかチェック
- **リフレッシュ後に削除されたタスクが再表示される**：localStorageが正しく更新されているかチェック
- **ボタンクリックが反応しない**：onClickイベントが正しくバインドされているかチェック
- **一括削除ボタンが表示されない**：completedCountの計算と条件判定をチェック

完了後はすべての機能をテストして、削除操作が正常に動作することを確認してください！🎉

